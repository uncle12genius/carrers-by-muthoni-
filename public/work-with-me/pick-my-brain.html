<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Career Consultation | Pick My Brain</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1a365d',
                        secondary: '#2d3748',
                        accent: '#4299e1',
                        lightblue: '#ebf8ff'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
    
    <!-- Navbar will be loaded here -->
    <div id="navbar-container"></div>

    <div class="container mx-auto px-4 py-8 md:py-12">
        <!-- Progress Steps -->
        <div class="max-w-2xl mx-auto mb-8 md:mb-12">
            <div class="flex items-center justify-between">
                <div class="flex flex-col items-center relative">
                    <div class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-semibold z-10">
                        1
                    </div>
                    <span class="text-sm font-medium mt-2">Date & Time</span>
                    <div class="absolute top-5 left-full w-full h-0.5 bg-gray-300 -ml-2"></div>
                </div>
                <div class="flex flex-col items-center relative">
                    <div class="w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-semibold z-10">
                        2
                    </div>
                    <span class="text-sm text-gray-500 mt-2">Your Details</span>
                    <div class="absolute top-5 left-full w-full h-0.5 bg-gray-300 -ml-2"></div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-semibold">
                        3
                    </div>
                    <span class="text-sm text-gray-500 mt-2">Confirmation</span>
                </div>
            </div>
        </div>

        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left Panel - Booking Info -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 sticky top-8">
                        <!-- Header -->
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 bg-gradient-to-br from-accent to-blue-500 rounded-xl flex items-center justify-center mr-4">
                                <i class="fas fa-brain text-white text-xl"></i>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-primary">Pick My Brain</h1>
                                <p class="text-gray-600">Career Strategy Session</p>
                            </div>
                        </div>

                        <!-- Session Details -->
                        <div class="space-y-5 mb-8">
                            <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                                <i class="fas fa-clock text-accent mr-3 text-lg"></i>
                                <div>
                                    <p class="font-medium">60-Minute Session</p>
                                    <p class="text-sm text-gray-600">Deep dive into your career goals</p>
                                </div>
                            </div>

                            <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                                <i class="fas fa-video text-accent mr-3 text-lg"></i>
                                <div>
                                    <p class="font-medium">Video Conference</p>
                                    <p class="text-sm text-gray-600">Google Meet/Zoom link provided</p>
                                </div>
                            </div>

                            <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                                <i class="fas fa-chart-line text-accent mr-3 text-lg"></i>
                                <div>
                                    <p class="font-medium">Personalized Strategy</p>
                                    <p class="text-sm text-gray-600">Custom action plan included</p>
                                </div>
                            </div>
                        </div>

                        <!-- Price & CTA -->
                        <div class="border-t pt-6">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-gray-700">Session Fee</span>
                                <div class="text-right">
                                    <span class="text-3xl font-bold text-primary">$65</span>
                                    <span class="text-gray-600">/session</span>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100 rounded-xl p-4 mb-6">
                                <div class="flex items-center">
                                    <i class="fas fa-bolt text-green-500 mr-3"></i>
                                    <div>
                                        <p class="font-medium text-green-800">Limited Time Offer</p>
                                        <p class="text-sm text-green-600">Book now and get a free career assessment</p>
                                    </div>
                                </div>
                            </div>

                            <button id="book-now-btn" 
                                    class="w-full bg-gradient-to-r from-primary to-accent text-white font-semibold py-4 rounded-xl hover:shadow-lg transition-all transform hover:scale-[1.02] active:scale-[0.98]">
                                Continue to Booking
                            </button>
                        </div>

                        <!-- Support Info -->
                        <div class="mt-6 pt-6 border-t text-center">
                            <p class="text-sm text-gray-600 mb-2">
                                <i class="fas fa-question-circle mr-2"></i>
                                Need help? <a href="#" class="text-accent font-medium hover:underline">Contact Support</a>
                            </p>
                            <p class="text-xs text-gray-500">
                                <i class="fas fa-shield-alt mr-1"></i>
                                Secure booking â€¢ Cancel anytime
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Calendar & Time Selection -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                        <!-- Header -->
                        <div class="bg-gradient-to-r from-primary to-secondary text-white p-6 md:p-8">
                            <h2 class="text-2xl font-bold mb-2">Select Your Preferred Time</h2>
                            <p class="opacity-90">Choose a date and time that works best for you</p>
                        </div>

                        <!-- Timezone Info -->
                        <div class="p-6 border-b">
                            <div class="flex flex-wrap items-center justify-between">
                                <div class="flex items-center mb-3 md:mb-0">
                                    <i class="fas fa-globe-africa text-accent mr-3 text-lg"></i>
                                    <div>
                                        <p class="font-medium">Time Zone</p>
                                        <p class="text-sm text-gray-600">East Africa Time (EAT) - Nairobi</p>
                                    </div>
                                </div>
                                <div class="bg-gray-100 rounded-lg px-4 py-2">
                                    <span class="text-sm font-medium">Today: </span>
                                    <span id="current-date" class="text-gray-700"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Calendar Section -->
                        <div class="p-6 md:p-8">
                            <!-- Month Navigation -->
                            <div class="flex items-center justify-between mb-8">
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">January 2026</h3>
                                    <p class="text-gray-600">Select an available date</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button class="month-nav-btn w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="month-nav-btn w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Week Days -->
                            <div class="grid grid-cols-7 gap-2 mb-4">
                                <div class="text-center font-medium text-gray-500 py-2">Mon</div>
                                <div class="text-center font-medium text-gray-500 py-2">Tue</div>
                                <div class="text-center font-medium text-gray-500 py-2">Wed</div>
                                <div class="text-center font-medium text-gray-500 py-2">Thu</div>
                                <div class="text-center font-medium text-gray-500 py-2">Fri</div>
                                <div class="text-center font-medium text-gray-500 py-2 text-accent">Sat</div>
                                <div class="text-center font-medium text-gray-500 py-2 text-accent">Sun</div>
                            </div>

                            <!-- Calendar Dates -->
                            <div class="grid grid-cols-7 gap-2 mb-8">
                                <!-- Empty spaces for Jan 2026 (starts on Thursday) -->
                                <div></div>
                                <div></div>
                                <div></div>
                                <div class="date-cell">1</div>
                                <div class="date-cell">2</div>
                                <div class="date-cell weekend">3</div>
                                <div class="date-cell weekend">4</div>
                                
                                <!-- Week 2 -->
                                <div class="date-cell">5</div>
                                <div class="date-cell">6</div>
                                <div class="date-cell">7</div>
                                <div class="date-cell">8</div>
                                <div class="date-cell selected">9</div>
                                <div class="date-cell weekend">10</div>
                                <div class="date-cell weekend">11</div>
                                
                                <!-- Week 3 -->
                                <div class="date-cell">12</div>
                                <div class="date-cell">13</div>
                                <div class="date-cell">14</div>
                                <div class="date-cell">15</div>
                                <div class="date-cell">16</div>
                                <div class="date-cell weekend">17</div>
                                <div class="date-cell weekend">18</div>
                                
                                <!-- Week 4 -->
                                <div class="date-cell">19</div>
                                <div class="date-cell">20</div>
                                <div class="date-cell">21</div>
                                <div class="date-cell">22</div>
                                <div class="date-cell">23</div>
                                <div class="date-cell weekend">24</div>
                                <div class="date-cell weekend">25</div>
                                
                                <!-- Week 5 -->
                                <div class="date-cell">26</div>
                                <div class="date-cell">27</div>
                                <div class="date-cell">28</div>
                                <div class="date-cell">29</div>
                                <div class="date-cell">30</div>
                                <div class="date-cell weekend">31</div>
                            </div>

                            <!-- Time Slots -->
                            <div id="time-slots-section" class="animate-slide-up">
                                <h4 class="text-lg font-semibold mb-4 flex items-center">
                                    <i class="fas fa-clock text-accent mr-2"></i>
                                    Available Time Slots for 
                                    <span id="selected-date-text" class="ml-2 text-primary">Friday, January 9</span>
                                </h4>
                                
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6">
                                    <button class="time-slot-btn">
                                        <span>9:00 AM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                    <button class="time-slot-btn">
                                        <span>10:30 AM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                    <button class="time-slot-btn selected">
                                        <span>2:00 PM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                    <button class="time-slot-btn">
                                        <span>3:30 PM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                    <button class="time-slot-btn">
                                        <span>5:00 PM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                    <button class="time-slot-btn">
                                        <span>6:30 PM</span>
                                        <span class="text-xs text-gray-500">60 min</span>
                                    </button>
                                </div>

                                <!-- Early/Late Slots -->
                                <div class="mb-8">
                                    <div class="flex items-center justify-between mb-4">
                                        <h5 class="font-medium text-gray-700">Need a different time?</h5>
                                        <button class="text-accent font-medium hover:underline flex items-center">
                                            <i class="fas fa-plus mr-1"></i>
                                            Request custom slot
                                        </button>
                                    </div>
                                    <div class="bg-gray-50 rounded-xl p-4">
                                        <p class="text-sm text-gray-600 mb-2">
                                            <i class="fas fa-info-circle text-accent mr-2"></i>
                                            Weekend and evening slots are available upon request
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- Confirmation Section -->
                            <div id="confirmation-section" class="hidden animate-fade-in">
                                <div class="bg-green-50 border border-green-200 rounded-2xl p-6 mb-6">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4">
                                            <i class="fas fa-calendar-check text-green-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-green-800">Time Slot Selected!</h4>
                                            <p id="selected-slot-details" class="text-green-600">Friday, January 9 at 2:00 PM</p>
                                        </div>
                                    </div>
                                    <p class="text-sm text-green-700">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        Your spot is reserved for 15 minutes. Continue to secure your booking.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Info -->
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white rounded-xl p-6 shadow-sm border">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                                <i class="fas fa-handshake text-accent text-xl"></i>
                            </div>
                            <h4 class="font-semibold mb-2">What to Expect</h4>
                            <p class="text-sm text-gray-600">Personalized career strategy session with actionable insights</p>
                        </div>
                        
                        <div class="bg-white rounded-xl p-6 shadow-sm border">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                                <i class="fas fa-undo-alt text-accent text-xl"></i>
                            </div>
                            <h4 class="font-semibold mb-2">Flexible Rescheduling</h4>
                            <p class="text-sm text-gray-600">Change your appointment up to 24 hours before</p>
                        </div>
                        
                        <div class="bg-white rounded-xl p-6 shadow-sm border">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                                <i class="fas fa-file-alt text-accent text-xl"></i>
                            </div>
                            <h4 class="font-semibold mb-2">Follow-up Resources</h4>
                            <p class="text-sm text-gray-600">Receive summary notes and resources after session</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer will be loaded here -->
    <div id="footer-container"></div>

    <!-- JavaScript -->
    <script>
        // Set current date
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
            
            // Load components
            loadComponents();
        });

        // Load navbar and footer
        async function loadComponents() {
            try {
                const navbar = await fetch('/components/navbar.html');
                const footer = await fetch('/components/footer.html');
                
                if (navbar.ok) {
                    document.getElementById('navbar-container').innerHTML = await navbar.text();
                }
                
                if (footer.ok) {
                    document.getElementById('footer-container').innerHTML = await footer.text();
                }
            } catch (error) {
                console.log('Components loaded from local functions');
            }
        }

        // Calendar functionality
        document.querySelectorAll('.date-cell').forEach(cell => {
            if (!cell.classList.contains('weekend')) {
                cell.addEventListener('click', function() {
                    // Remove selection from all dates
                    document.querySelectorAll('.date-cell').forEach(c => {
                        c.classList.remove('selected');
                    });
                    
                    // Add selection to clicked date
                    this.classList.add('selected');
                    
                    // Update selected date text
                    const dateText = `Friday, January ${this.textContent}`;
                    document.getElementById('selected-date-text').textContent = dateText;
                    
                    // Show confirmation section
                    document.getElementById('confirmation-section').classList.remove('hidden');
                    document.getElementById('selected-slot-details').textContent = 
                        `${dateText} at 2:00 PM`;
                    
                    // Scroll to time slots
                    document.getElementById('time-slots-section').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            }
        });

        // Time slot selection
        document.querySelectorAll('.time-slot-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove selection from all time slots
                document.querySelectorAll('.time-slot-btn').forEach(b => {
                    b.classList.remove('selected');
                });
                
                // Add selection to clicked slot
                this.classList.add('selected');
                
                // Update confirmation details
                const dateText = document.getElementById('selected-date-text').textContent;
                const timeText = this.querySelector('span:first-child').textContent;
                document.getElementById('selected-slot-details').textContent = 
                    `${dateText} at ${timeText}`;
                
                // Show confirmation section if not already visible
                document.getElementById('confirmation-section').classList.remove('hidden');
            });
        });

        // Book Now Button
        document.getElementById('book-now-btn').addEventListener('click', function() {
            const selectedDate = document.querySelector('.date-cell.selected');
            const selectedTime = document.querySelector('.time-slot-btn.selected');
            
            if (!selectedDate || !selectedTime) {
                // Show error notification
                const errorDiv = document.createElement('div');
                errorDiv.className = 'fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 animate-slide-up';
                errorDiv.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-circle mr-3"></i>
                        <span>Please select a date and time first</span>
                    </div>
                `;
                document.body.appendChild(errorDiv);
                
                setTimeout(() => {
                    errorDiv.remove();
                }, 3000);
                
                // Scroll to calendar
                document.querySelector('.date-cell.selected')?.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                }) || document.getElementById('time-slots-section').scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
                
                return;
            }
            
            // Show success animation
            this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing...';
            this.classList.add('bg-green-600');
            
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-check mr-2"></i> Booking Confirmed!';
                this.classList.remove('bg-green-600');
                this.classList.add('bg-green-500');
                
                // Redirect to next step after delay
                setTimeout(() => {
                    window.location.href = '/booking-details.html';
                }, 1500);
            }, 1000);
        });

        // Month navigation
        document.querySelectorAll('.month-nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Add ripple effect
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255,255,255,0.5);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    top: ${y}px;
                    left: ${x}px;
                `;
                
                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
                
                // Simple month change logic (demo)
                alert('In a real app, this would change the month calendar');
            });
        });
    </script>

    <style>
        /* Custom Styles */
        .date-cell {
            @apply w-12 h-12 md:w-14 md:h-14 rounded-xl flex items-center justify-center font-medium cursor-pointer transition-all duration-200;
        }
        
        .date-cell:hover:not(.weekend) {
            @apply bg-blue-100 text-primary transform scale-105;
        }
        
        .date-cell.selected {
            @apply bg-gradient-to-br from-primary to-accent text-white shadow-lg transform scale-105;
        }
        
        .date-cell.weekend {
            @apply text-gray-400 cursor-not-allowed;
        }
        
        .time-slot-btn {
            @apply border-2 border-gray-200 rounded-xl p-4 flex flex-col items-center justify-center transition-all duration-200 hover:border-accent hover:bg-blue-50 hover:shadow-sm;
        }
        
        .time-slot-btn.selected {
            @apply border-accent bg-blue-50 text-primary font-semibold shadow-sm;
        }
        
        /* Ripple animation */
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .date-cell {
                @apply w-10 h-10 text-sm;
            }
        }
        
        /* Loading animation for components */
        #navbar-container:empty::before,
        #footer-container:empty::before {
            content: '';
            display: block;
            height: 60px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</body>
</html>